<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta http-equiv=accept-ch content="DPR, Viewport-Width, Width"><link rel=icon href=/favicon/favicon.ico type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><script async src="https://www.googletagmanager.com/gtag/js?id=G-6Z99Z4T0L0"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6Z99Z4T0L0",{anonymize_ip:!1})}</script><meta property="og:title" content="Discord Bot Development story"><meta property="og:description" content="Elaboration of my side project"><meta property="og:type" content="article"><meta property="og:url" content="https://jooncode.com/blog/code/nestdiscordbot/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-03-08T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-08T00:00:00+00:00"><meta property="og:site_name" content="Joon Career"><meta name=twitter:card content="summary"><meta name=twitter:title content="Discord Bot Development story"><meta name=twitter:description content="Elaboration of my side project"><link rel=stylesheet href=/bootstrap-5/css/bootstrap.min.css media=all><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{font-size:1.2rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{width:.5em;height:.5em;background-color:var(--background-color)}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px var(--background-color);border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background-color:var(--secondary-color);outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><meta name=description content="Elaboration of my side project"><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-5/all-5.15.4.js></script><title>Discord Bot Development story | Joon Career</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/><img src=/favicon/favicon.ico width=30 height=30 class="d-inline-block align-top">
00N</a><div><input id=search autocomplete=off class="form-control mr-sm-2 d-none d-md-block" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text d-block d-md-none"><div class=nav-link><input id=search autocomplete=off class="form-control mr-sm-2" placeholder='Ctrl + k to Search...' aria-label=Search oninput=searchOnChange(event)></div></li><li class="nav-item navbar-text"><a class=nav-link href=/#about aria-label=about>About Me</a></li><li class="nav-item navbar-text"><a class=nav-link href=/blog title=blog>Blog</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">Discord Bot Development story</h1><div class=text-center>HwiJoon Lee
<small>|</small>
Mar 8, 2023
<span id=readingTime>min read</span></div></div><div class=featured-image><img class=img-fluid src=/projects/Bot_github.png alt="Discord Bot Development story"></div><article class="page-content p-2"><p>Software engineering is a rapidly changing field. Every day, new tools and technologies are being released that can help developers more efficiently create and manage applications. As a software engineer, it can be difficult to keep up with all the changes and ensure that you are staying up to date with the latest best practices. In this blog post, I will share my experience reaching out to my <a href=https://www.youtube.com/channel/UCqI5lyTpC79pOy2D-VXAMdA>favorite league data analysis youtuber</a>&rsquo;s company and apply my knowlege and skill out side of class.</p><p><img src=/projects/ps.png alt="ps spectator"></p><h2 id=how-i-reached-out-to-them>How I reached out to them</h2><p>After completing the basic Computer Science classes, I looked for interesting side projects to join. I sent an e-mail to one of my favorite League YouTuber expressing my interest to join any proejcts and my desire to collaborate. To my surprise, the CEO responded and suggested that I start by helping with management of Discord community called NoTrollz for league of legend friendly matchs between clubs first. Then see if we could further develop something once we got to know each other better. I was thrilled to have the opportunity to work with a real-world company and acquire some valuable experience.</p><h2 id=working-on-the-project>Working on the Project</h2><p>My recent project was to create a discord bot that manages user&rsquo;s roles and teams. The goal of the project was to learn Typescript and NestJs that would make the bot to be accessible to company&rsquo;s current work environment. One of the biggest challenges I faced was learning how to learning new language and framework with limited amount of documents. These tools are relatively new and I had no prior experience working with them. Despite the challenges, I was ultimately able to create a simple bot that automated the chore for the server manager.</p><p><img src=/projects/docker+postgresql.jpeg alt=docker+postgresql></p><h2 id=continuing-education>Continuing Education</h2><p>After the first part, I had a meeting with a senior developer from the company I&rsquo;m working with. During the meeting, we discussed the current feature and the senior developer suggested to create a user data base and develop a more advanced automation bot.</p><p>The automation of the feature could not be done solely with Discord&rsquo;s features and a database was necessary to handle user&rsquo;s roles and teams for extendability and sustainability. To match the company&rsquo;s existing system, I learned and implemented Docker Compose and PostgreSQL. To ensure my plan of action would work, I conducted research and experimented with the new technologies before implementing them into the project.</p><h2 id=dockerizing-the-bot>Dockerizing the bot</h2><p>To begin with, I created a devcontainer with psql database in VS code, which allowed me to develop and test my bot in a containerized environment. Since this bot will run under AWS in future, I had to create the containerized environment to minimize unexpected bug. This was a crucial step in ensuring that my development environment was consistent across different machines.</p><p>Next, I built a data table using TypeORM Entity. When building the data table for my Discord bot, I took into consideration the potential future development plans and added data types that I would need from users.</p><pre tabindex=0><code>@Entity()
export class notrollz_entity extends BaseEntity {
    @PrimaryGeneratedColumn(&#34;uuid&#34;)
    uuid: string

    @Index(&#34;discord_id&#34;, { unique: true })
    @Column({ type: &#34;varchar&#34; })
    discord_id: string

    @Column({ type: &#34;varchar&#34; })
    discord_tag: string

    @Column({ type: &#34;varchar&#34; })
    summoner_name: string

    @Column({
        type: &#34;varchar&#34;,
        default: &#34;&#34;
    })
    team_name: string

    @Column({
        type: &#34;boolean&#34;,
        default: false
    })
    team_catain?: boolean

}
</code></pre><p>One issue I encountered while building the data table was with the formatting of the Discord IDs. To resolve this, I used the uuid generator from Node.js to generate unique IDs for each user and gave the unique property to discord_id to prevent duplicate user registration on the database. By creating a well-structured data table with appropriate data types and using a unique ID generator, I was able to ensure that my Discord bot could accurately and efficiently store and retrieve user data. I then sent a query from my nestjs app with typeorm to qsql in the devcontainer to test the functionality of data table.</p><img src=/projects/psql_command.PNG style=display:block;margin-left:auto;margin-right:auto;width:97%;height:97%><p>After completing the initial development of the bot, I made the nestjs app into a Docker image and included it in a docker-compose file. This allowed me to easily deploy the bot to different environments and delegate the bot service to AWS instead of local computer. I also built a connection to psql in the new image with conscious volume mount, which was necessary for persisting data. When the connection was successful, I was very happy with my progress.</p><p><img src=/projects/discord_usage.PNG alt=discord_usage></p><h2 id=conclusion>Conclusion</h2><p>Overall, my experience working on this project was very rewarding. In a short amount of time, I was able to apply my knowledge of Object Oriented Design and acquire new experiences with docker containers, postgres, and javascript. Continuous education is an important part of staying up to date in the ever-changing world of software engineering and this project gave me the great lesson. By researching and experimenting with the latest tools and technologies, I am looking forward to create an advanced bot that improved the workflow of the community management of the company.</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#how-i-reached-out-to-them>How I reached out to them</a></li><li><a href=#working-on-the-project>Working on the Project</a></li><li><a href=#continuing-education>Continuing Education</a></li><li><a href=#dockerizing-the-bot>Dockerizing the bot</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=https://jooncode.com/tags/nestjs target=_blank>NestJs</a></li><li class=list-inline-item><a href=https://jooncode.com/tags/discord target=_blank>Discord</a></li><li class=list-inline-item><a href=https://jooncode.com/tags/docker target=_blank>Docker</a></li><li class=list-inline-item><a href=https://jooncode.com/tags/postgresql target=_blank>PostgreSQL</a></li></ul></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script>
<script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script src=/js/readingTime.js></script></div><footer><div class="container py-3" id=recent-posts><div class="h3 text-center text-secondary py-3">Recent Posts</div><div class="row justify-content-center"><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/code/backend/><img src=/posts/Dev/backend.png class=card-img-top alt="Backend System Design"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/code/backend/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="Backend System Design">Backend System Design</h5></a><div class="card-text secondary-font"><p>Building the backend infrastructure for our Valorant data-driven website, I encountered several unique challenges and oppurtunities to grow as a software developer. In this post, I&rsquo;ll outline …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Aug 29, 2023</span>
<a href=/blog/code/backend/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/game/mainpage/><img src=/posts/Valorant/mainPageFullReduced.jpeg class=card-img-top alt="Crafting the Main Page"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/game/mainpage/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="Crafting the Main Page">Crafting the Main Page</h5></a><div class="card-text secondary-font"><p>Understanding Valorant Valorant&rsquo;s unique appeal is rooted in its foundational design philosophy that promotes a layered gaming experience. Players are incentivized when they successfully gather …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Aug 19, 2023</span>
<a href=/blog/game/mainpage/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class="col-lg-4 col-md-6 pt-2"><div class="card h-100"><div class=card-header><a href=/blog/game/introduction/><img src=/posts/League/meWithRiot.jpeg class=card-img-top alt="Valorant Website Project"></a></div><div class="card-body bg-transparent p-3 shadow-sm"><a href=/blog/game/introduction/ class="primary-font card-title"><h5 class="card-title bg-transparent" title="Valorant Website Project">Valorant Website Project</h5></a><div class="card-text secondary-font"><p>My Experience with Riot For the past 10 years, Riot Games has been the cornerstone of my gaming experience. I&rsquo;ve always enjoyed those competitive moments, playing alongside friends to clutch …</p></div></div><div class="mt-auto card-footer"><span class=float-start>Aug 15, 2023</span>
<a href=/blog/game/introduction/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div></div><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center"><div class=pb-2><a href=https://jooncode.com title="Joon Career"><img alt="Footer logo" src=/favicon/favicon.ico height=40px width=40px></a></div>&copy; 2023<div class=text-secondary></div></div></div></div></footer><script src=/bootstrap-5/js/bootstrap.bundle.min.js></script>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><script src=/js/search.js></script>
<script src=/js/contact.js></script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>